package com.example.e2e;

import org.junit.jupiter.api.*;
import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.chrome.ChromeOptions;

import static org.assertj.core.api.Assertions.*;

/**
 * End-to-End Tests
 * 
 * Tests complete user workflows for {FEATURE_NAME}
 * Framework: JUnit 5 with Selenium
 * 
 * Generated by: /gbm.qa.scaffold-tests
 */
class {Feature}E2ETest {
    
    private WebDriver driver;
    
    @BeforeEach
    void setUp() {
        ChromeOptions options = new ChromeOptions();
        options.addArguments("--headless");
        driver = new ChromeDriver(options);
        driver.get("http://localhost:8080");
    }
    
    @AfterEach
    void tearDown() {
        if (driver \!= null) {
            driver.quit();
        }
    }
    
    @Test
    void userCanCompleteMainWorkflow() {
        // Navigate to feature
        driver.findElement(By.linkText("{Feature Name}")).click();
        assertThat(driver.getCurrentUrl()).contains("/{feature-path}");
        
        // Fill form
        driver.findElement(By.name("name")).sendKeys("Test Name");
        driver.findElement(By.name("email")).sendKeys("test@example.com");
        
        // Submit
        driver.findElement(By.cssSelector("button[type='submit']")).click();
        
        // Verify success
        WebElement successMessage = driver.findElement(By.className("success-message"));
        assertThat(successMessage.isDisplayed()).isTrue();
        assertThat(successMessage.getText()).contains("Success");
    }
    
    @Test
    void shouldValidateRequiredFields() {
        driver.get("http://localhost:8080/{feature-path}/new");
        
        // Submit without filling fields
        driver.findElement(By.cssSelector("button[type='submit']")).click();
        
        // Verify validation errors
        WebElement errorMessage = driver.findElement(By.className("error-message"));
        assertThat(errorMessage.isDisplayed()).isTrue();
    }
    
    @Test
    void userCanCreateNewItem() {
        driver.get("http://localhost:8080/{feature-path}");
        
        // Click create
        driver.findElement(By.linkText("Create New")).click();
        
        // Fill and submit
        driver.findElement(By.name("name")).sendKeys("New Item");
        driver.findElement(By.cssSelector("button[type='submit']")).click();
        
        // Verify item appears
        assertThat(driver.getPageSource()).contains("New Item");
    }
}
